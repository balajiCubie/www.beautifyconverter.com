var options={input:false}
var zone=new FileDrop('text-transform-text',options)
zone.event('send',function(files){files.each(function(file){file.readData(function(str){zone.el.value=str},function(e){alert('Terrible error!')},'text')})})
function scroll_to_el(){$("html, body").animate({scrollTop:($("#text-transform-submit").offset().top-10)},600);}
function scroll_to_top(){$("html, body").animate({scrollTop:($("html").offset().top-10)},600);}
$("#text-transform-submit").click(function(e){e.preventDefault();var text=$('#text-transform-text').val();if(text=="")
{$("#text-transform-text").focus().parents("div.form-group").addClass("has-error");return false;}else
{$("#text-transform-text").parents("div.form-group").removeClass("has-error");$("#res").parents("div.form-group").removeClass("hide");scroll_to_el();}
var bytes=[];var converted='';var textToHexFormat=$('#text-transform-format-field input').val();for(var i=0;i<text.length;i++){var realBytes=unescape(encodeURIComponent(text[i]));if(realBytes.length>1){var multibyteChar=text[i];var hexmbChar='';var octmbChar='';var binmbChar='';var decmbChar='';for(var j=0;j<realBytes.length;j++){var byte=realBytes[j].charCodeAt(0);var hexByte=byte.toString(16);var octByte=byte.toString(8);var binByte=byte.toString(2);var decByte=byte.toString();hexmbChar+=hexByte;octmbChar+=octByte;binmbChar+=binByte;decmbChar+=decByte;}
var char=textToHexFormat;char=char.replace(/%x/g,hexmbChar);char=char.replace(/%o/g,octmbChar);char=char.replace(/%b/g,binmbChar);char=char.replace(/%d/g,decmbChar);char=char.replace(/%_/g,multibyteChar);char=char.replace(/%c/g,multibyteChar.toLowerCase());char=char.replace(/%C/g,multibyteChar.toUpperCase());char=char.replace(/%~/g,multibyteChar.toUpperCase()==multibyteChar?multibyteChar.toLowerCase():multibyteChar.toUpperCase());char=char.replace(/\\n/g,"\n");converted+=char;}
else{var byte=text[i].charCodeAt(0);var hexByte=byte.toString(16);var octByte=byte.toString(8);var binByte=byte.toString(2);var decByte=byte.toString();var char=textToHexFormat;char=char.replace(/%x/g,hexByte);char=char.replace(/%o/g,octByte);char=char.replace(/%b/g,binByte);char=char.replace(/%d/g,decByte);char=char.replace(/%_/g,text[i]);char=char.replace(/%c/g,text[i].toLowerCase());char=char.replace(/%C/g,text[i].toUpperCase());char=char.replace(/%~/g,text[i].toUpperCase()==text[i]?text[i].toLowerCase():text[i].toUpperCase());char=char.replace(/\\n/g,"\n");converted+=char;}}
$("#res").val(converted);});$("#clear").click(function(e){e.preventDefault();$("#text-transform-text,#res").val("");$("#text-transform-text").parents("div.form-group").removeClass("has-error");$("#res").parents("div.form-group").addClass("hide");scroll_to_top()});$("#demotext").click(function(e){e.preventDefault();$("#text-transform-text").val("If you think the hardest part about travel is the planning, you may not have flown lately. Today’s crowded airports are full of gotchas. Some folks now blow off the first and last days of vacation as lost causes because of the headaches. But it doesn’t have to be that way. Don’t lose precious time to “travel days” when a little strategizing on your part will make it so much easier.");$("#text-transform-submit").click();});